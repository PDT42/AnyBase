{% extends "base.html" %}

<!-- Extend Block 'head' in base.html -->
{% block head %}

{% endblock %}

<!-- Extend Block 'body' in base.html -->
{% block body %}
<div class="container">
    <div class="row" style="margin-top: 35px">
        <form class="col" action="/asset-type/create" method="post">

            <!-- INPUT FOR ASSET TYPE NAME -->

            <div class="form-group row" style="padding-top: 20px">
                <label for="assetName" class="col-md-2 col-form-label">Asset Name:</label>
                <div class="col-md-10">
                    <input type="text" class="form-control" name="assetName" id="assetName">
                </div>
            </div>

            <hr/>

            <!-- SELECT SUPER TYPE THE NEW PLUGIN EXTENDS-->

            <div class="form-group row">
                <label for="superType" class="col-md-2 col-form-label">Extends Asset Type:</label>
                <div class="col-md-10">
                    <select class="form-control custom-select"
                            name="superType" id="superType"
                            onchange="">

                        <option value="0" selected>...</option>

                        {% for asset_type_id in asset_types %}
                        <option value="{{ asset_type_id }}">
                            {{ asset_types[asset_type_id].asset_name }}
                        </option>
                        {% endfor %}

                    </select>
                </div>
            </div>

            <hr/>

            <!-- HEADER LINE -->

            <div class="row" style="margin-top: 10px">
                <div class="col-md-5 offset-md-1">
                    <label>Column Name</label>
                </div>
                <div class="col-md-4">
                    <label>Datatype</label>
                </div>
                <div class="col-md-2">
                    <label>Required</label>
                </div>
            </div>

            <!-- COLUMN INPUTS -->

            <div id="column-list"></div>

            <button class="btn btn-block btn-secondary" type="button" onclick="addColumn()">
                <i class="fas fa-plus"></i>
            </button>

            <hr/>

            <div class="row justify-content-end">
                <div class="col-md-2">
                    <button class="btn btn-block btn-dark" type="submit">
                        <i class="fas fa-plus"></i><span>Add AssetType</span></button>
                </div>
            </div>

        </form>
    </div>
</div>

<script>
    // Passing data from flask to javascript

    let dataTypes = JSON.parse('{{ data_types|tojson }}');
    let assetTypes = JSON.parse('{{ asset_types|tojson }}');

</script>

<script src="/static/jscript/createAssetType.js">

</script>
{% endblock %}